function showAndHideinstantPhoneOptions(){"true"==jQuery("input[name=lr_ciam_instant_otp_login]:checked").val()?jQuery(".form-item-lr-ciam-sms-template-one-time-passcode").show():jQuery(".form-item-lr-ciam-sms-template-one-time-passcode").hide()}function showAndHideinstantemailOptions(){"true"==jQuery("input[name=lr_ciam_instant_link_login]:checked").val()?jQuery(".form-item-lr-ciam-instant-link-login-email-template").show():jQuery(".form-item-lr-ciam-instant-link-login-email-template").hide()}if(jQuery(document).ready(function(){jQuery("#fade, #lr-loading").click(function(){jQuery("#fade, #lr-loading").hide()}),dropemailvalue="",jQuery(".removeEmail").each(function(){jQuery(this).click(function(){jQuery('form[name="loginradius-removeemail"]').remove();var e=jQuery(this).parents("tr");dropemailvalue=jQuery(this).parents("tr").find(".form-text").val(),showRemoveEmailPopup(e)})}),showAndHideinstantPhoneOptions(),showAndHideinstantemailOptions()}),"undefined"==typeof LoginRadiusV2){var e=document.createElement("script");e.src="https://auth.lrcontent2.com/v2/js/LoginRadiusV2.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}var lrloadInterval=setInterval(function(){"undefined"!=typeof LoginRadiusV2&&(clearInterval(lrloadInterval),LRObject=new LoginRadiusV2(commonOptions))},1);function showRemoveEmailPopup(e){jQuery("#removeemail-form").show(),initializeRemoveEmailCiamForms(e)}function showAddEmailPopup(){jQuery("#addemail-form").show(),initializeAddEmailCiamForms()}function lrCloseRemovePopup(){jQuery('form[name="loginradius-removeemail"]').remove(),jQuery("#removeemail-form").hide()}function lrCloseAddEmailPopup(){jQuery("#addemail-form").hide()}function getBackupCodes(){var e=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(e),LRObject.api.getBackupCode(accessToken,function(e){jQuery("#backupcode-table-body").empty();for(var n=0;n<e.BackUpCodes.length;n++){var o="";jQuery("#resettable").hide(),jQuery("#lr_ciam_reset_table").show(),o+='<div class="form-item code-list" id="backup-codes-'+n+'-field">',o+='<span class="backupCode">'+e.BackUpCodes[n]+"</span>",o+="</div>",jQuery("#backupcode-table-body").append(o)}jQuery(".mybackupcopy").click(function(){setClipboard()})},function(e){jQuery("#resettable").show()}))},1)}function resetBackupCodes(){var e=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(e),LRObject.api.resetBackupCode(accessToken,function(e){jQuery("#backupcode-table-body").empty();for(var n=0;n<e.BackUpCodes.length;n++){var o="";jQuery("#resettable").hide(),jQuery("#lr_ciam_reset_table").show(),o+='<div class="form-item code-list" id="backup-codes-'+n+'-field">',o+='<span class="backupCode">'+e.BackUpCodes[n]+"</span>",o+="</div>",jQuery("#backupcode-table-body").append(o)}jQuery(".mybackupcopy").click(function(){setClipboard()})},function(e){handleResponse(!1,e[0].Description,"","error")}))},1)}function setClipboard(){var e="";jQuery(".code-list").find("span").each(function(){e+=jQuery(this).html()+"\n"});var n=document.createElement("textarea");n.style="position: absolute; left: -1000px; top: -1000px",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),jQuery(".copyMessage").show(),setTimeout(removeCodeCss,5e3)}function removeCodeCss(){jQuery(".code-list").find("span").removeAttr("style"),jQuery(".copyMessage").hide()}function changeIconColor(){jQuery(".code-list").find("span").css({"background-color":"#29d",color:"#fff"})}function lrCheckValidJson(){jQuery("#add_custom_options").change(function(){var e=jQuery("#add_custom_options").val(),n="";try{if(1!=(n=jQuery.parseJSON(e))&&0!=n){var o=JSON.stringify(n,null,"\t").replace(/</g,"&lt;");"null"!=o?(jQuery("#add_custom_options").val(o),jQuery("#add_custom_options").css("border","1px solid green")):jQuery("#add_custom_options").css("border","1px solid red")}else jQuery("#add_custom_options").css("border","1px solid green")}catch(e){jQuery("#add_custom_options").css("border","1px solid green")}})}function show_birthdate_date_block(){var e=(new Date).getFullYear(),n=e-100;jQuery("body").on?jQuery("body").on("focus",".loginradius-birthdate",function(){jQuery(".loginradius-birthdate").datepicker({dateFormat:"mm-dd-yy",maxDate:new Date,minDate:"-100y",changeMonth:!0,changeYear:!0,yearRange:n+":"+e})}):jQuery(".loginradius-birthdate").live("focus",function(){jQuery(".loginradius-birthdate").datepicker({dateFormat:"mm-dd-yy",maxDate:new Date,minDate:"-100y",changeMonth:!0,changeYear:!0,yearRange:n+":"+e})})}function handleResponse(e,n,o,i){i=i||"status",void 0===o||o||jQuery("#fade").show(),e&&jQuery("form").each(function(){this.reset()}),null!=n&&""!=n?(jQuery("#lr-loading").hide(),jQuery(".messageinfo").text(n),jQuery(".messages").show(),jQuery(".messageinfo").show(),jQuery(".messages").removeClass("error status"),jQuery(".messages").addClass(i),""!=autoHideTime&&"0"!=autoHideTime&&setTimeout(fade_out,1e3*autoHideTime)):(jQuery(".messages").hide(),jQuery(".messageinfo").hide(),jQuery(".messageinfo").text(""))}function fade_out(){jQuery(".messages").hide()}var setButtonInterval=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(setButtonInterval),LRObject.$hooks.call("setButtonsName",{removeemail:"Remove"}),LRObject.$hooks.register("startProcess",function(){jQuery("#lr-loading").show(),commonOptions.phoneLogin&&jQuery("#lr-loading").hide()}),LRObject.$hooks.register("endProcess",function(e){!0!==LRObject.options.twoFactorAuthentication&&!0!==LRObject.options.optionalTwoFactorAuthentication||jQuery("#authentication-container").show(),!0===LRObject.options.phoneLogin&&(jQuery("#updatephone-container").show(),jQuery("#lr_phoneid").show()),"resendOTP"===e&&jQuery("#login-container").length>0&&handleResponse(!0,"An OTP has been sent"),jQuery("#lr-loading").hide()}),LRObject.$hooks.register("afterFormRender",function(e){"socialRegistration"==e&&jQuery("#login-container").find("form[name=loginradius-socialRegistration]").parent().addClass("socialRegistration"),"otp"==e&&handleResponse(!0,"An OTP has been sent."),"twofaotp"==e&&handleResponse(!0,"An OTP has been sent."),"removeemail"==e&&jQuery("#loginradius-removeemail-emailid").val(dropemailvalue)}),LRObject.$hooks.register("socialLoginFormRender",function(){jQuery("#lr-loading").hide(),jQuery("#social-registration-form").show(),show_birthdate_date_block()}))},1);function callSocialInterface(){var e={templateName:"loginradiuscustom_tmpl"},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.customInterface(".interfacecontainerdiv",e))},1);jQuery("#lr-loading").hide()}function initializeLoginCiamForm(){var e={onSuccess:function(e){e.access_token?(handleResponse(!0),ciamRedirect(e.access_token)):1==e.IsPosted?0!==jQuery("#loginradius-login-username").length?handleResponse(!0,"An email has been sent to "+jQuery("#loginradius-login-username").val()+"."):0!==jQuery("#loginradius-login-emailid").length&&handleResponse(!0,"An email has been sent to "+jQuery("#loginradius-login-emailid").val()+"."):void 0!==e.AccountSid&&handleResponse(!0,"An OTP has been sent.")},onError:function(e){handleResponse(!1,e[0].Description,"","error")},container:"login-container"},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.init("login",e))},1);jQuery("#lr-loading").hide()}function initializeRegisterCiamForm(){var e={onSuccess:function(e){null!=e.access_token&&""!=e.access_token?(handleResponse(!0),ciamRedirect(e.access_token)):e.IsPosted&&void 0!==e.Data&&null!=e.Data?handleResponse(!0,"An OTP has been sent."):(handleResponse(!0,"An email has been sent to "+jQuery("#loginradius-registration-emailid").val()+".Please verify your email address"),window.setTimeout(function(){window.location.replace(homeDomain)},7e3))},onError:function(e){null!=e[0].Description&&handleResponse(!1,e[0].Description,"","error")},container:"registration-container"},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.init("registration",e))},1);jQuery("#lr-loading").hide()}function initializeResetPasswordCiamForm(e){var n=setInterval(function(){if("undefined"!=typeof LRObject){clearInterval(n);var o=LRObject.util.getQueryParameterByName("vtype");if(null!=o&&""!=o)if("reset"==o){var i={container:"resetpassword-container"};jQuery("#login-container").hide(),jQuery(".interfacecontainerdiv").hide(),i.onSuccess=function(n){handleResponse(!0,"Password reset successfully"),window.setTimeout(function(){window.location.replace(e.verificationUrl)},5e3)},i.onError=function(e){handleResponse(!1,e[0].Description,"","error")},LRObject.init("resetPassword",i)}else if("emailverification"==o){var t={onSuccess:function(e){void 0!==e&&(void 0!==e.access_token&&null!=e.access_token&&""!=e.access_token?ciamRedirect(e.access_token):null!=e.Data&&null!=e.Data.access_token&&""!=e.Data.access_token?ciamRedirect(e.Data.access_token):(handleResponse(!0,"Your email has been verified successfully"),setTimeout(function(){window.location.href=url},3e3)))},onError:function(e){handleResponse(!1,e[0].Description,"","error")}};LRObject.init("verifyEmail",t)}else if("oneclicksignin"==o){var a={onSuccess:function(e){ciamRedirect(e.access_token)},onError:function(e){loggedIn||handleResponse(!1,e[0].Description,"","error")}};LRObject.init("instantLinkLogin",a)}}},1)}function initializeSocialRegisterCiamForm(){var e={onSuccess:function(e){e.IsPosted&&void 0!==e.Data.AccountSid?handleResponse(!0,"An OTP has been sent."):1==e.IsPosted&&void 0===e.Data.AccountSid?(handleResponse(!0,"An email has been sent to "+jQuery("#loginradius-socialRegistration-emailid").val()+".Please verify your email address."),jQuery("#social-registration-form").hide(),jQuery("#lr-loading").hide()):e.access_token&&(handleResponse(!0,"",!0),ciamRedirect(e.access_token),jQuery("#lr-loading").hide())},onError:function(e){null!=e[0].Description&&(handleResponse(!1,e[0].Description,"","error"),jQuery("#social-registration-form").hide(),jQuery("#lr-loading").hide())},container:"social-registration-container"},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.init("socialLogin",e))},1);jQuery("#lr-loading").hide()}function initializeForgotPasswordCiamForms(){var e="",n={container:"forgotpassword-container",onSuccess:function(n){void 0!==n.Data?handleResponse(!0,"OTP has been sent to your Phone No."):"resetPassword"==e?(handleResponse(!0,"Password has been set successfully."),window.setTimeout(function(){window.location.replace(homeDomain)},5e3)):(handleResponse(!0,"An email has been sent to "+jQuery("#loginradius-forgotpassword-emailid").val()+" with reset Password link"),window.setTimeout(function(){window.location.replace(homeDomain)},5e3)),jQuery('input[type="text"]').val(""),jQuery('input[type="password"]').val("")},onError:function(e){null!=e[0].Description&&handleResponse(!1,e[0].Description,"","error")}},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.$hooks.register("startProcess",function(n){"resetPassword"==n&&(e=n),jQuery("#lr-loading").show()}),LRObject.init("forgotPassword",n))},1);jQuery("#lr-loading").hide()}function initializeTwoFactorAuthenticator(){var e={container:"authentication-container",onSuccess:function(e){e.AccountSid&&handleResponse(!0,"An OTP has been sent."),e.IsDeleted?(handleResponse(!0,"Disabled successfully."),window.setTimeout(function(){window.location.reload()},1e3)):void 0!==e.Uid&&(handleResponse(!0,"Verified successfully."),window.setTimeout(function(){window.location.reload()},1e3))},onError:function(e){null!=e[0].Description&&(handleResponse(!1,e[0].Description,"","error"),window.setTimeout(function(){window.location.reload()},1e3))}},n=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(n),LRObject.init("createTwoFactorAuthentication",e))},1)}function initializePhoneUpdate(e){var n={container:"updatephone-container",onSuccess:function(e){e.access_token&&(handleResponse(!0,"Phone number has been updated successfully."),window.setTimeout(function(){window.location.reload()},1e3)),void 0!==e.Data&&handleResponse(!0,"An OTP has been sent.")},onError:function(e){null!=e[0].Description&&handleResponse(!1,e[0].Description,"","error")}},o=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(o),LRObject.init("updatePhone",n),"--"==e&&jQuery("#updatephone-container #loginradius-submit-update").val("Add"))},1)}function initializeAccountLinkingCiamForms(){var e={container:"interfacecontainerdiv",templateName:"loginradiuscustom_tmpl_link",onSuccess:function(e){1!=e.IsPosted?(handleResponse(!0),ciamRedirect(e)):(lrSetCookie("lr_message","Account linked successfully."),window.location.href=window.location.href.split("?")[0]+"?lrresponse=true")},onError:function(e){null!=e[0].Description&&(jQuery(),lrSetCookie("lr_message",e[0].Description),window.location.href=window.location.href.split("?")[0]+"?lrresponse=false")}},n={onSuccess:function(e){1==e.IsDeleted&&(lrSetCookie("lr_message","Account unlinked successfully."),window.location.href=window.location.href.split("?")[0]+"?lrresponse=true")},onError:function(e){null!=e[0].Description&&(lrSetCookie("lr_message",e[0].Description),window.location.href=window.location.href.split("?")[0]+"?lrresponse=false")}},o=setInterval(function(){void 0!==LRObject.options&&""!=LRObject.options&&(clearInterval(o),!0!==LRObject.options.phoneLogin&&!0===LRObject.options.disabledEmailVerification||(LRObject.init("linkAccount",e),LRObject.init("unLinkAccount",n)))},1);jQuery("#lr-loading").hide()}function initializeAddEmailCiamForms(){var e={container:"addemail-container",onSuccess:function(e){jQuery("#addemail-form").hide(),handleResponse(!0,"Email added successfully, Please verify your email address.")},onError:function(e){jQuery("#addemail-form").hide(),handleResponse(!1,e[0].Description,"","error")}},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.init("addEmail",e))},1);jQuery("#lr-loading").hide()}function initializeRemoveEmailCiamForms(e){var n={container:"removeemail-container",onSuccess:function(n){jQuery("#removeemail-form").hide(),handleResponse(!0,"Email has been removed successfully."),e.remove(),window.setTimeout(function(){window.location.reload()},1e3)},onError:function(e){jQuery("#removeemail-form").hide(),handleResponse(!1,e[0].Description,"","error")}},o=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(o),LRObject.init("removeEmail",n))},1);jQuery("#lr-loading").hide()}function initializeChangePasswordCiamForms(){var e={container:"changepassword-container",onSuccess:function(e){handleResponse(!0,"Password has been updated successfully")},onError:function(e){handleResponse(!1,e[0].Description,"","error")}},n=setInterval(function(){"undefined"!=typeof LRObject&&(clearInterval(n),LRObject.init("changePassword",e))},1);jQuery("#lr-loading").hide()}function ciamRedirect(e,n){if(window.redirect)redirect(e,n);else{var o=n||"token",i=("undefined"!=typeof lr_source&&lr_source&&lr_source,document.createElement("form"));i.action=LocalDomain,i.method="POST";var t=document.createElement("input");t.type="hidden",t.value=e,t.name=o,i.appendChild(t),document.body.appendChild(i),i.submit()}}function lrSetCookie(e,n,o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var t="expires="+i.toUTCString();document.cookie=e+"="+n+";"+t+";path=/"}